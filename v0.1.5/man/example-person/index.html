<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>What is Parsing? Names... Â· CombinedParsers.jl</title><link rel="canonical" href="https://gkappler.github.io/CombinedParsers.jl/man/example-person/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">CombinedParsers.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../guide/">Overview</a></li><li><a class="tocitem" href="../user/">User Guide</a></li><li><a class="tocitem" href="../example-either-trie/">Prefix-Tree Matching</a></li><li><a class="tocitem" href="../pcre-compliance/">PCRE Compliance</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>What is Parsing? Names...</a><ul class="internal"><li><a class="tocitem" href="#Names"><span>Names</span></a></li><li><a class="tocitem" href="#Addresses"><span>Addresses</span></a></li><li><a class="tocitem" href="#Person&#39;s-address-data"><span>Person&#39;s address data</span></a></li></ul></li><li><a class="tocitem" href="../example-number-ranges/">Representations: Number sequences</a></li><li><a class="tocitem" href="../pcre/">Regular Expressions</a></li><li><a class="tocitem" href="../example-palindromes/">struct Palindrome&lt;:CombinedParser</a></li><li><a class="tocitem" href="../example-arithmetics/">Arithmetics</a></li><li><a class="tocitem" href="../bson/">Parsing <code>Vector{Unit8}</code>: BSON</a></li><li><a class="tocitem" href="../json/">JSON</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../lib/public/">Public</a></li><li><a class="tocitem" href="../../lib/regexp/">Regexp</a></li><li><a class="tocitem" href="../../lib/internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>What is Parsing? Names...</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>What is Parsing? Names...</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/gkappler/CombinedParsers.jl/docs/docs/src/man/example-person.jl" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="What-is-Parsing?"><a class="docs-heading-anchor" href="#What-is-Parsing?">What is Parsing?</a><a id="What-is-Parsing?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-Parsing?" title="Permalink"></a></h1><p>When you read texts, you understand what the words mean. Your smart brain analyzes the series of letter symbols. Like you move your muscles without being aware of every detail, intuitively, your brain understands the meaning of text after assigning syntax to each word.</p><p>This post explains how a computer can read a text (parsing) with a simple example, reading a name in a letter, a list of students, or citizens. The post also explains how to program a <a href="../../lib/internals/#CombinedParsers.CombinedParser"><code>CombinedParser</code></a> in julia using <a href="../../lib/public/#CombinedParsers.@syntax"><code>@syntax</code></a>.</p><p>Let&#39;s get to it: These examples represent how a name should be parsed into a Julia <code>NamedTuple</code> representation. You can write a program to parse such names and addresses</p><pre><code class="language-julia-repl">julia&gt; using CombinedParsers

julia&gt; using CombinedParsers.Regexp</code></pre><h2 id="Names"><a class="docs-heading-anchor" href="#Names">Names</a><a id="Names-1"></a><a class="docs-heading-anchor-permalink" href="#Names" title="Permalink"></a></h2><p>can be written in many ways. The example uses parser building blocks:</p><pre><code class="language-julia-repl">julia&gt; import CombinedParsers.Regexp: word, words

julia&gt; import CombinedParsers.Regexp: whitespace_horizontal, whitespace_maybe, newline</code></pre><p>A name can be written in terms of these building blocks,</p><pre><code class="language-julia-repl">julia&gt; @syntax name =
           Either(
               Sequence(
                   :lastname =&gt; word,
                   re&quot; *, *&quot;, # comma separating preceding lastname
                   :name     =&gt; words),
               Sequence(
                   v -&gt; (lastname = v[3], name= v[1]),
                   words, *(&quot; &quot;), word)
           )
|ðŸ—„... Either |&gt; with_name(:name)
â”œâ”€ ðŸ—„ Sequence |&gt; map(ntuple)
â”‚  â”œâ”€ [\w]+ CharIn |&gt; Repeat |&gt; ! |&gt; with_name(:lastname)
â”‚  â”œâ”€ ðŸ—„ Sequence
â”‚  â”‚  â”œâ”€ \ *  |&gt; Repeat
â”‚  â”‚  â”œâ”€ ,
â”‚  â”‚  â””â”€ \ *  |&gt; Repeat
â”‚  â””â”€ [\w\h]+ CharIn |&gt; Repeat |&gt; ! |&gt; with_name(:name)
â””â”€ ðŸ—„ Sequence |&gt; map(#1)
   â”œâ”€ [\w\h]+ CharIn |&gt; Repeat |&gt; !
   â”œâ”€ \
   â””â”€ [\w]+ CharIn |&gt; Repeat |&gt; !
::NamedTuple{(:lastname, :name),_A} where _A&lt;:Tuple</code></pre><p><code>CombinedParsers.@syntax</code> defines a string macro <code>name&quot;&quot;</code> for using the syntax parser in your Julia program: See also <a href="../../lib/public/#CombinedParsers.@syntax"><code>@syntax</code></a></p><pre><code class="language-julia-repl">julia&gt; name&quot;Person, Called&quot;
NamedTuple{(:lastname, :name),Tuple{SubString,SubString}}((&quot;Person&quot;, &quot;Called&quot;))</code></pre><p><code>CombinedParsers.@syntax</code> also defines a syntax parser function <code>name()</code> to use in your Julia program:</p><pre><code class="language-julia-repl">julia&gt; (re&quot;Best, *&quot; * name)(&quot;Best, yours truly&quot;)
(&#39;B&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39;, &#39;,&#39;, [&#39; &#39;], (lastname = &quot;truly&quot;, name = &quot;yours&quot;))</code></pre><h2 id="Addresses"><a class="docs-heading-anchor" href="#Addresses">Addresses</a><a id="Addresses-1"></a><a class="docs-heading-anchor-permalink" href="#Addresses" title="Permalink"></a></h2><p>On a letter, you see the</p><pre><code class="language-julia-repl">julia&gt; @syntax for street_address in texts
           examples = &quot;Am Hang 19&quot; =&gt; (street=&quot;Am Hang&quot;, no=19)
           Sequence(:street =&gt; !!Repeat(AnyChar()),
                    &quot; &quot;,
                    :no =&gt;Numeric(Int))
       end;
â”Œ Warning: examples currently ignored
â”” @ CombinedParsers ~/build/gkappler/CombinedParsers.jl/src/CombinedParsers.jl:1148</code></pre><p>In programming, regular expressions are the standard language for matching sequences of letters, a <code>String</code>. The street is a sequence of alphabetical symbols or space (not numbers or <code>AnyChar()</code>) can be written concisely as <code>re&quot;Regex&quot;</code>:</p><pre><code class="language-julia-repl">julia&gt; @syntax for street_address in texts ## todo: override in Either
           Sequence(:street =&gt; !!re&quot;[[:alpha:] ]+&quot;, whitespace_horizontal, :no =&gt;Numeric(Int))
       end;

julia&gt; street_address&quot;Allee 47&quot;
(street = &quot;Allee&quot;, no = 47)</code></pre><p>Defined <code>@syntax</code>&#39;s can be combined.</p><pre><code class="language-julia-repl">julia&gt; whitenewline = Repeat1(Either(whitespace_horizontal,newline));

julia&gt; @syntax for address in texts
           Sequence(
               Optional(&quot;Adresse:&quot;,whitenewline),
               :door =&gt; street_address, whitenewline,
               :zip =&gt;Numeric(Int), whitespace_horizontal,
               :city =&gt; !re&quot;[[:alpha:] ]+&quot;,
               whitespace_maybe
           )
       end
ðŸ—„ Sequence |&gt; map(ntuple) |&gt; with_name(:address)
â”œâ”€ ðŸ—„? Sequence|missing
â”‚  â”œâ”€ Adresse\:
â”‚  â””â”€ |ðŸ—„...+ Either |&gt; Repeat
â”‚     â”œâ”€ [\h]+ CharIn |&gt; Repeat |&gt; !
â”‚     â””â”€ (?&gt;|ðŸ—„...) Either |&gt; Atomic
â”‚        â”œâ”€ \r\n
â”‚        â””â”€ [\n\x0b\f\r\x85] CharIn
â”œâ”€ ðŸ—„ Sequence |&gt; map(ntuple) |&gt; with_name(:street_address) |&gt; with_name(:door)
â”‚  â”œâ”€ [\ \p{1:5}]+ CharIn |&gt; Repeat |&gt; !! |&gt; with_name(:street)
â”‚  â”œâ”€ [\h]+ CharIn |&gt; Repeat |&gt; !
â”‚  â””â”€ Int64  |&gt; with_name(:no)
â”œâ”€ |ðŸ—„...+ Either |&gt; Repeat
â”‚  â”œâ”€ [\h]+ CharIn |&gt; Repeat |&gt; !
â”‚  â””â”€ (?&gt;|ðŸ—„...) Either |&gt; Atomic
â”‚     â”œâ”€ \r\n
â”‚     â””â”€ [\n\x0b\f\r\x85] CharIn
â”œâ”€ Int64  |&gt; with_name(:zip)
â”œâ”€ [\h]+ CharIn |&gt; Repeat |&gt; !
â”œâ”€ [\ \p{1:5}]+ CharIn |&gt; Repeat |&gt; ! |&gt; with_name(:city)
â””â”€ [\h]* CharIn |&gt; Repeat |&gt; !
::NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}}</code></pre><p>A <code>@syntax</code> can be applied as a julia String macro</p><pre><code class="language-julia-repl">julia&gt; address&quot;&quot;&quot;Allee 47
       80000 Augsburg
       &quot;&quot;&quot;
NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}}(((street = &quot;Allee&quot;, no = 47), 80000, &quot;Augsburg&quot;))</code></pre><h2 id="Person&#39;s-address-data"><a class="docs-heading-anchor" href="#Person&#39;s-address-data">Person&#39;s address data</a><a id="Person&#39;s-address-data-1"></a><a class="docs-heading-anchor-permalink" href="#Person&#39;s-address-data" title="Permalink"></a></h2><p>For person entries in texts a <code>CombinedParser</code> can be intuitively written as</p><pre><code class="language-julia-repl">julia&gt; @syntax for person_adresses in texts
           Sequence(Optional(&quot;Name:&quot;,whitenewline),
                    :person =&gt; name, Repeat1(whitenewline),
                    :adresses =&gt; join(address, Repeat1(whitenewline)));
       end;

julia&gt; person_adresses&quot;&quot;&quot;
       Name: Gottfried MutbÃ¼rger
       
       Adresse:
       Am Hang 19
       86653 Glauberg
       
       Adresse:
       Allee 47
       80650 Zweistadt
       &quot;&quot;&quot;
NamedTuple{(:person, :adresses),Tuple{NamedTuple{(:lastname, :name),_A} where _A&lt;:Tuple,Array{NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}},1}}}(((lastname = &quot;MutbÃ¼rger&quot;, name = &quot;Gottfried&quot;), NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}}[NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}}(((street = &quot;Am Hang&quot;, no = 19), 86653, &quot;Glauberg&quot;)), NamedTuple{(:door, :zip, :city),Tuple{NamedTuple{(:street, :no),Tuple{String,Int64}},Int64,SubString}}(((street = &quot;Allee&quot;, no = 47), 80650, &quot;Zweistadt&quot;))]))</code></pre><p>This example demonstrated the terms &quot;syntax&quot; and &quot;parsing&quot;. Here, a syntax defines the ways in which information is written. Parsing means the computer reads the information back from the way it was written: The <code>CombinedParser.jl</code> definitions create a program that parses a formal <code>NamedTuple</code> representation from texts written in that way.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../pcre-compliance/">Â« PCRE Compliance</a><a class="docs-footer-nextpage" href="../example-number-ranges/">Representations: Number sequences Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 5 November 2020 01:34">Thursday 5 November 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
